<html>
  <head>
    <title>JAVASCRIPT HW3</title>
  </head>

  <body>
    <script>
      // ЗАДАНИЯ ДЛЯ РАЗМИНКИ!!!!!!)))

      //1) Написать функцию которая принимает строку и подстроку и нужно найти количество вхождений!!!

      function searchSubstr(string, substring) {
        const subReg = new RegExp(substring, 'g');
        const matches = string.match(subReg);
        if (matches) return matches.length;
        return 0;
      }

      searchSubstr('4526214531235345123', '123'); // результат 2
      searchSubstr('4526214531235345123', '45'); // результат 3

      // 2) Написать функцию которая принимает массив и ищет макс число, дальше найти минимальное число которое имеет меньше индекс чем максимальное.
      // Можно индекс оф использовать.
      function findMinBeforeMax(digits) {
        let max = digits[0];
        let min = digits[0];
        let maxIndex = 0;

        for (let i = 1; i < digits.length; i++) {
          if (digits[i] > max) {
            max = digits[i];
            maxIndex = i;
          }
        }

        for (let i = 1; i < maxIndex; i++) {
          if (digits[i] < min) min = digits[i];
        }

        return {
          minValueBeforeMaxIndex: min,
          maxValue: max,
        };
      }

      findMinBeforeMax([35, 5, 2, 324, 2, 0, -1, 35]); // ответ 324 -макс, 2 - мин ибо индекс меньше

      //3) Есть массив с массивов нужно подсчитать сумму елементов которые лежат
      // на главной диагонеле c помощью одного цикла и двух. то есть 1 + 5 + 9.
      // Подсчитать произведение побочной диагонали  3 * 5 * 7 также.
      function matrixDiagonalCalc(matrix) {
        let sumPrincipal = 0;
        let mulSecondary = 1;

        for (const i in matrix) {
          const matrixLine = matrix[i];
          sumPrincipal += matrixLine[i];
          mulSecondary *= matrixLine[matrixLine.length - 1 - i];
        }

        return {
          sumPrincipal,
          mulSecondary,
        };
      }

      const matrix = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9],
      ];

      matrixDiagonalCalc(matrix);

      // 4) Есть массив. Написать функцию которая подсчитает произведение всех елементов и вернет результат
      const ar = [2, 3, 5, 6, 2, 6];

      function multipleOfFive(array) {
        let mul = 1;
        for (const digit of array) mul *= digit;
        return mul;
      }

      multipleOfFive([20, 5, 3, 23, 15, 8, 10, 11]);

      // Advanced
      //  Есть бусы, каждая из бусинок это рандом из тру или фолс и количество бусинок не известно нужно подсчитать количество бусинок.
      // Алгоритм расписать.
    </script>
  </body>
</html>
